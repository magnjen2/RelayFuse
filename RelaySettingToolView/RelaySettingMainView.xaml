<Window x:Class="RelaySettingToolView.RelaySettingMainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:RelaySettingToolView"
        Title="RelayFuse"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ViewResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <!-- Rounded window corners using a Border as the main container -->
    <Border Background="{StaticResource WindowBackground}" CornerRadius="10" BorderThickness="0">
        <Grid Margin="0">
            <!-- Top Bar -->
            <Border Background="{StaticResource TopBarBrush}" Height="32" VerticalAlignment="Top" CornerRadius="10,10,0,0"
                    MouseLeftButtonDown="TopBar_MouseLeftButtonDown">
                <DockPanel>
                    <TextBlock Text="RelayFuse" FontSize="16" Foreground="{StaticResource TextBrush}" Margin="16,0,0,0" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,8,0">
                        <!-- Minimize Button -->
                        <Button Width="36" Height="32" Click="Minimize_Click"
                                Background="{StaticResource TopBarBrush}" Foreground="{StaticResource TextBrush}" BorderThickness="0">
                            <Viewbox Stretch="Uniform">
                                <Canvas Width="12" Height="12">
                                    <Rectangle Width="6" Height="0.2" Fill="{StaticResource TextBrush}" Canvas.Left="3" Canvas.Top="8"/>
                                </Canvas>
                            </Viewbox>
                        </Button>
                        <!-- Maximize/Restore Button -->
                        <Button Width="36" Height="32" Click="MaximizeRestore_Click"
                                Background="{StaticResource TopBarBrush}" Foreground="{StaticResource TextBrush}" BorderThickness="0">
                            <Viewbox Stretch="Uniform">
                                <Canvas Width="10" Height="7">
                                    <Rectangle Width="4" Height="3.2" Stroke="{StaticResource TextBrush}" StrokeThickness="0.2" Canvas.Left="3.5" Canvas.Top="2.8"/>
                                </Canvas>
                            </Viewbox>
                        </Button>
                        <!-- Close Button -->
                        <Button Width="36" Height="32" Click="Close_Click"
                                Background="{StaticResource TopBarBrush}" Foreground="{StaticResource TextBrush}" BorderThickness="0">
                            <Viewbox Stretch="Uniform">
                                <Canvas Width="10" Height="7">
                                    <Line X1="2" Y1="2" X2="6" Y2="6" Stroke="{StaticResource TextBrush}" StrokeThickness="0.2"  Canvas.Left="1" Canvas.Top="-0"/>
                                    <Line X1="6" Y1="2" X2="2" Y2="6" Stroke="{StaticResource TextBrush}" StrokeThickness="0.2"  Canvas.Left="1" Canvas.Top="-0"/>
                                </Canvas>
                            </Viewbox>
                        </Button>
                    </StackPanel>
                </DockPanel>
            </Border>


            <Grid Margin="10,42,10,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- TEAX Section (Left) -->
                <Border Grid.Column="0" Grid.Row="0" Margin="0,0,0,0"
                        BorderBrush="{StaticResource BorderBrush}" BorderThickness="0"
                        CornerRadius="8"
                        Background="{StaticResource WindowBackground}"
                        HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10,0,10,0">
                        <Button
                            FontFamily="Segoe MDL2 Assets" Content="&#xE8DA;"
                            ToolTip="Open TEAX file"
                            Command="{Binding OpenTeaxFileCommand}"
                            Width="80"
                            FontSize="18"
                            Style="{StaticResource RoundedButtonStyle}"/>
                        <ComboBox
                            ItemsSource="{Binding HwUnits}"
                            DisplayMemberPath="DisplayName"
                            SelectedItem="{Binding SelectedHwUnit, Mode=TwoWay}"
                            Width="200"
                            Background="{StaticResource ComboBoxBackground}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            IsEditable="False"/>
                    </StackPanel>
                </Border>


                <!-- PDF Section (Right) -->
                <Button Grid.Column="1" Grid.Row="0"
                        FontFamily="Segoe MDL2 Assets" Content="&#xE8DA;"
                        ToolTip="Open PDF file"
                        Command="{Binding OpenPdfFileCommand}"
                        IsEnabled="{Binding CanOpenPdfFile}"
                        Width="80"
                        FontSize="18"
                        Style="{StaticResource RoundedButtonStyle}">
                </Button>

                <!-- Merging tool Section -->
                <Border Grid.ColumnSpan="2" Grid.Row="2"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0" Margin="0,10,0,0"
                CornerRadius="8"
                Background="{StaticResource WindowBackground}">
                    <views:MergingToolView />
                </Border>

            </Grid>
        </Grid>
    </Border>
</Window>
