<UserControl x:Class="RelaySettingToolView.MergingToolView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:views="clr-namespace:RelaySettingToolView">

    <UserControl.Resources>
        <!-- Dark Theme Brushes -->
        <SolidColorBrush x:Key="WindowBackground" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="TopBarBrush" Color="#2D2D30"/>
        <SolidColorBrush x:Key="ButtonBrush" Color="#3C3C3C"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#444444"/>
        <SolidColorBrush x:Key="TextBrush" Color="#D4D4D4"/>
        <SolidColorBrush x:Key="ComboBoxBackground" Color="#252526"/>
        <SolidColorBrush x:Key="ComboBoxForeground" Color="#D4D4D4"/>
        <DataTemplate x:Key="HmiTableMergerViewTemplate">
            <views:HmiTableMergerView />
        </DataTemplate>
        <DataTemplate x:Key="NonMatchedHmiTableViewTemplate">
            <views:NonMatchedHmiTableView />
        </DataTemplate>
    </UserControl.Resources>
    
    

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" MinWidth="0" />
            <ColumnDefinition Width="40" />
            <ColumnDefinition Width="*" MinWidth="0" />
        </Grid.ColumnDefinitions>

        <!-- Matched HmiTables -->
        <Border Grid.Column="0"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0" Margin="0,0,4,0"
                CornerRadius="0"
                Background="{StaticResource WindowBackground}">
            <ListBox ItemsSource="{Binding HmiTableMergers}"
                     ItemTemplate="{StaticResource HmiTableMergerViewTemplate}"
                     Background="Transparent"
                     BorderThickness="0"
                     HorizontalContentAlignment="Stretch"
                     VerticalContentAlignment="Stretch">
            </ListBox>
        </Border>

        <!-- Control Buttons Column -->
        <Border Grid.Column="1"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0" Margin="0,0,0,0"
                CornerRadius="0"
                Background="{StaticResource WindowBackground}"
                VerticalAlignment="Top">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0" >
                <Button Margin="0,4" Padding="2,6"
                        Background="{StaticResource ButtonBrush}" Foreground="{StaticResource TextBrush}"
                        ToolTip="Start compare"
                        Command="{Binding StartCompareCommand}">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE895;" Margin="0,0,0,0" FontSize="16"/>
                </Button>
                <Button Margin="0,4" Padding="2,6"
                        Background="{StaticResource ButtonBrush}" Foreground="{StaticResource TextBrush}"
                        ToolTip="Undo">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE7A7;" Margin="0,0,0,0" FontSize="16"/>
                </Button>
                <Button Margin="0,4" Padding="2,6"
                        Background="{StaticResource ButtonBrush}" Foreground="{StaticResource TextBrush}"
                        ToolTip="Mark as ok">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE73E;" Margin="0,0,0,0" FontSize="16"/>
                </Button>
                <Button Margin="0,4" Padding="2,6"
                        Background="{StaticResource ButtonBrush}" Foreground="{StaticResource TextBrush}"
                        ToolTip="Go to previous Hmi table">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE892;" Margin="0,0,0,0" FontSize="16"/>
                </Button>
                <Button Margin="0,4" Padding="2,6"
                        Background="{StaticResource ButtonBrush}" Foreground="{StaticResource TextBrush}"
                        ToolTip="Go to next Hmi table">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE893;" Margin="0,0,0,0" FontSize="16"/>
                </Button>
            </StackPanel>
        </Border>

        <!-- Non matched Hmi tables -->
        <Border Grid.Column="2"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0" Margin="4,0,0,0"
                CornerRadius="0"
                Background="{StaticResource WindowBackground}">


            <ListBox ItemsSource="{Binding NonMatchedHmiTables}"
                     ItemTemplate="{StaticResource NonMatchedHmiTableViewTemplate}"
                     PreviewMouseLeftButtonDown="NonMatchedListBox_PreviewMouseLeftButtonDown"
                     PreviewMouseMove="NonMatchedListBox_PreviewMouseMove"
                     Background="Transparent"
                     BorderThickness="0"
                     HorizontalContentAlignment="Stretch"
                     VerticalContentAlignment="Stretch">
            </ListBox>

        </Border>
    </Grid>
</UserControl>